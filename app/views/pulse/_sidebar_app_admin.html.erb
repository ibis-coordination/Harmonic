<%# App Admin sidebar - for application-level administration %>
<%# Shows home link and app admin navigation %>
<aside class="pulse-sidebar" data-mode="app_admin">
  <div class="pulse-nav">
    <a href="/" class="pulse-nav-item">
      <%= octicon 'home', height: 20 %> Home
    </a>
  </div>

  <div class="pulse-nav-section">
    <div class="pulse-section-label">
      <%= octicon 'organization', height: 14 %> App Admin
    </div>
    <a href="/app-admin" class="pulse-nav-item<%= ' active' if request.path == '/app-admin' %>">
      <%= octicon 'meter', height: 16 %> Dashboard
    </a>
    <a href="/app-admin/tenants" class="pulse-nav-item<%= ' active' if request.path.start_with?('/app-admin/tenants') %>">
      <%= octicon 'organization', height: 16 %> Tenants
    </a>
    <a href="/app-admin/users" class="pulse-nav-item<%= ' active' if request.path.start_with?('/app-admin/users') %>">
      <%= octicon 'people', height: 16 %> Users
    </a>
    <a href="/app-admin/security" class="pulse-nav-item<%= ' active' if request.path.start_with?('/app-admin/security') %>">
      <%= octicon 'shield', height: 16 %> Security
    </a>
  </div>

  <% if @current_user&.sys_admin? || @current_tenant&.is_admin?(@current_user) %>
    <div class="pulse-nav-section">
      <div class="pulse-section-label">
        <%= octicon 'link', height: 14 %> Related
      </div>
      <% if @current_user&.sys_admin? %>
        <a href="/system-admin" class="pulse-nav-item">
          <%= octicon 'server', height: 16 %> System Admin
        </a>
      <% end %>
      <% if @current_tenant&.is_admin?(@current_user) %>
        <a href="/tenant-admin" class="pulse-nav-item">
          <%= octicon 'gear', height: 16 %> Tenant Admin
        </a>
      <% end %>
    </div>
  <% end %>
</aside>
