# Notifications

Unread: <%= @unread_count %>

<% if @scheduled_reminders.any? -%>
## Scheduled Reminders

| Scheduled For | Title | Body | Actions |
|---------------|-------|------|---------|
<% @scheduled_reminders.each do |nr| -%>
| <%= nr.scheduled_for.strftime("%Y-%m-%d %H:%M") %> | <%= nr.notification.title %> | <%= nr.notification.body || "-" %> | [delete](/notifications/actions/delete_reminder?id=<%= nr.id %>) |
<% end -%>

<% end -%>
<% if @notification_recipients.empty? -%>
No notifications.
<% else -%>
## Recent Notifications

| Status | Title | Time | Actions |
|--------|-------|------|---------|
<% @notification_recipients.each do |recipient| -%>
| <%= recipient.read? ? 'read' : 'unread' %> | [<%= recipient.notification.title %>](<%= recipient.notification.url || '/notifications' %>) | <%= time_ago_in_words(recipient.created_at) %> ago | <% unless recipient.read? %>[mark_read](/notifications/actions/mark_read?id=<%= recipient.id %>)<% end %> <% unless recipient.dismissed? %>[dismiss](/notifications/actions/dismiss?id=<%= recipient.id %>)<% end %> |
<% end -%>
<% end -%>

## [Actions](/notifications/actions)

* [`mark_read(id)`](/notifications/actions/mark_read) - Mark a notification as read
* [`dismiss(id)`](/notifications/actions/dismiss) - Dismiss a notification
* [`mark_all_read()`](/notifications/actions/mark_all_read) - Mark all notifications as read
* [`create_reminder(title, scheduled_for, body, url)`](/notifications/actions/create_reminder) - Schedule a reminder for your future self
* [`delete_reminder(id)`](/notifications/actions/delete_reminder) - Cancel a scheduled reminder
