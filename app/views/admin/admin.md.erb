# Admin Dashboard

Tenant: **<%= @current_tenant.name %>** (`<%= @current_tenant.subdomain %>.<%= ENV['HOSTNAME'] %>`)

## Admin Users

<% @current_tenant.admin_users.each do |user| %>
* [<%= raw user.display_name %>](<%= user.path %>) (`<%= user.handle %>`)
<% end %>

## Tenant Details

| Property | Value |
|----------|-------|
| Name | <%= @current_tenant.name %> |
| Subdomain | `<%= @current_tenant.subdomain %>` |
| Created | <%= time_ago_in_words(@current_tenant.created_at) %> ago |
| Updated | <%= time_ago_in_words(@current_tenant.updated_at) %> ago |

### Tenant Settings

[Edit Settings](/admin/settings)

```json
<%= JSON.pretty_generate(@current_tenant.settings) %>
```

## Main Studio

The main studio is the default studio at the base path (i.e. `<%= @current_tenant.domain %>/`).

| Property | Value |
|----------|-------|
| Name | <%= @current_tenant.main_studio.name %> |
| ID | `<%= @current_tenant.main_studio.id %>` |
| Notes | <%= @current_tenant.main_studio.notes.count %> |
| Decisions | <%= @current_tenant.main_studio.decisions.count %> |
| Commitments | <%= @current_tenant.main_studio.commitments.count %> |

### Main Studio Settings

```json
<%= JSON.pretty_generate(@current_tenant.main_studio.settings) %>
```

### Other Studios

<% @current_tenant.studios.order(created_at: :desc).each do |studio| %>
<% next if studio == @current_tenant.main_studio %>
* [<%= raw studio.name %>](<%= studio.path %>) - created <%= time_ago_in_words(studio.created_at) %> ago
<% end %>
<% if @current_tenant.subdomain == ENV['PRIMARY_SUBDOMAIN'] %>

---

## System Settings (Primary Subdomain)

Because `<%= ENV['PRIMARY_SUBDOMAIN'] %>` is the primary subdomain for this instance of Harmonic, you can see and manage other tenants.

### Other Tenants

<% Tenant.all.each do |tenant| %>
<% next if tenant.subdomain == ENV['PRIMARY_SUBDOMAIN'] %>
<% next if tenant.subdomain == ENV['AUTH_SUBDOMAIN'] %>
* [<%= raw tenant.name %>](/admin/tenants/<%= tenant.subdomain %>) (`<%= tenant.subdomain %>`)
<% end %>

[View All Tenants](/admin/tenants) | [Create New Tenant](/admin/tenants/new)

### Sidekiq Dashboard

[View Sidekiq Dashboard](/admin/sidekiq)
<% end %>

## [Actions](/admin/actions)

<% if can_perform_admin_actions? %>
* [`update_tenant_settings(name, timezone, require_login, allow_file_uploads, api_enabled)`](/admin/settings/actions/update_tenant_settings) - Update tenant settings
<% else %>
* No actions available (read-only access)
<% end %>
