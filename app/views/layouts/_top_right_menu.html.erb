<div class="top-right-display" data-controller="notification-badge" data-notification-badge-poll-interval-value="30000">
<% if @current_user %>
  <div style="display:inline-block;vertical-align:top;margin-right:8px;">
    <a href="/notifications" class="notification-icon" title="Notifications">
      <%= octicon 'inbox', height: 20 %>
      <span class="notification-badge-count"
            data-notification-badge-target="count"
            style="<%= @unread_notification_count.to_i > 0 ? '' : 'display:none;' %>">
        <%= @unread_notification_count.to_i %>
      </span>
    </a>
  </div>
  <div data-controller="top-right-menu" style="display:inline-block;">
    <div data-top-right-menu-target="button" class="top-menu-button" data-action="click->top-right-menu#toggleMenu">
      <%= profile_pic(@current_user) %>
    </div>
    <div data-top-right-menu-target="menu" class="top-menu" style="display:none;">
      <ul>
        <li>
          <%= octicon 'person' %>
          <a href="<%= @current_user.path %>">Profile</a>
        </li>
        <li>
          <%= octicon 'gear' %>
          <a href="<%= @current_user.path %>/settings">Settings</a>
        </li>
        <% if @current_tenant.is_admin?(@current_user) %>
          <li>
            <a href="/admin">
              <%= octicon 'tools' %> Admin
            </a>
          </li>
        <% end %>
        <li>
          <hr style="height:0;margin:0;border:none;border-top:1px solid var(--color-border-default);" />
        </li>
        <li>
          <%= octicon 'sign-out' %>
          <%= button_to "Sign Out", logout_path, method: :delete, style: "display:inline;" %>
        </li>
      </ul>
    </div>
  </div>
<% else %>
  <%= button_to "Log in", "/login", method: :get %>
<% end %>
</div>
