<%
base_path = "/u/#{@target_user.handle}/settings/webhooks"
-%>
# Webhooks for <%= @target_user.handle %>

<% if @target_user != @current_user -%>
You are managing webhooks for **<%= @target_user.name %>** (<%= @target_user.user_type %>).
<% end -%>

<% if @webhooks.empty? -%>
No webhooks configured.

Webhooks allow you to receive notifications (like reminders) at an external URL.
<% else -%>
| Name | URL | Events | Status |
|------|-----|--------|--------|
<% @webhooks.each do |webhook| -%>
| [<%= webhook.name %>](<%= base_path %>/<%= webhook.truncated_id %>) | `<%= truncate(webhook.url, length: 40) %>` | <%= webhook.events.join(", ") %> | <%= webhook.enabled? ? "Enabled" : "Disabled" %> |
<% end -%>
<% end -%>

## [Actions](<%= base_path %>/new/actions)

* [`create_webhook(url, name, events)`](<%= base_path %>/new/actions/create_webhook) - Create a new webhook

## Navigation

* [New Webhook](<%= base_path %>/new)
<% if @target_user == @current_user -%>
* [Settings](/settings)
<% else -%>
* [<%= @target_user.handle %>'s Profile](/u/<%= @target_user.handle %>)
<% end -%>
