# Studio Settings

Current settings for **<%= @current_superagent.name %>**:

| Setting | Value |
|---------|-------|
| Name | <%= @current_superagent.name %> |
| Handle | <%= @current_superagent.handle %> |
| Description | <%= @current_superagent.description || "(none)" %> |
| Timezone | <%= @current_superagent.timezone %> |
| Tempo | <%= @current_superagent.tempo %> |
| Synchronization Mode | <%= @current_superagent.synchronization_mode %> |
| Invitations | <%= @current_superagent.all_members_can_invite? ? 'All members can invite' : 'Only admins can invite' %> |
| Representation | <%= @current_superagent.any_member_can_represent? ? 'Any member can represent' : 'Only representatives' %> |
<% available_flags = FeatureFlagService.all_flags.select { |f| FeatureFlagService.tenant_enabled?(@current_tenant, f) } %>
<% if available_flags.any? %>

## Features Enabled

| Feature | Enabled |
|---------|---------|
<% available_flags.each do |flag_name| %>
<% metadata = FeatureFlagService.flag_metadata(flag_name) %>
<% studio_enabled_locally = @current_superagent.feature_flag_enabled_locally?(flag_name) %>
| <%= metadata['name'] %> | <%= studio_enabled_locally ? 'Yes' : 'No' %> |
<% end %>
<% end %>
<% if @current_superagent.feature_enabled?('api') && @studio_subagents.present? %>

## Subagents in this Studio

<% @studio_subagents.each do |subagent| %>
* [<%= raw subagent.display_name %>](<%= subagent.path %>) - managed by <%= subagent.parent ? "[#{subagent.parent.display_name}](#{subagent.parent.path})" : "Unknown" %>
<% end %>
<% end %>

## [Actions](<%= @current_superagent.path %>/settings/actions)

<% flag_params = available_flags.map { |f| "feature_#{f}" }.join(", ") %>
* [`update_studio_settings(name, description, timezone, tempo, synchronization_mode, invitations, representation<%= ", #{flag_params}" if available_flags.any? %>)`](<%= @current_superagent.path %>/settings/actions/update_studio_settings) - Update studio settings
<% if @current_superagent.feature_enabled?('api') && @current_user.person? && @addable_subagents.present? %>
* [`add_subagent_to_studio(subagent_id)`](<%= @current_superagent.path %>/settings/actions/add_subagent_to_studio) - Add one of your subagents to this studio
<% end %>
<% if @current_superagent.feature_enabled?('api') && @current_user.person? && @studio_subagents.present? && @studio_subagents.any? { |s| s.parent_id == @current_user.id } %>
* [`remove_subagent_from_studio(subagent_id)`](<%= @current_superagent.path %>/settings/actions/remove_subagent_from_studio) - Remove a subagent from this studio
<% end %>
