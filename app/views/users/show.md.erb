# User: <%= raw @showing_user.display_name %><%= @showing_user.archived? ? ' (Archived)' : '' %>

Handle: `<%= @showing_user.handle %>`
<% if @showing_user.ai_agent? %>
Type: AI Agent
<% end %>
<% if @showing_user.ai_agent? && @showing_user.parent %>

Managed by: [<%= @showing_user.parent.display_name %>](<%= @showing_user.parent.path %>)
<% end %>
<% if @showing_user.human? && @ai_agent_count && @ai_agent_count > 0 %>

Has <%= @ai_agent_count %> ai_agent<%= @ai_agent_count == 1 ? "" : "s" %>
<% end %>
<% if @current_user != @showing_user && (@common_studio_count > 0 || @common_scene_count > 0) %>
<% parts = [] %>
<% parts << "#{@common_scene_count} common scene#{'s' unless @common_scene_count == 1}" if @common_scene_count > 0 %>
<% parts << "#{@common_studio_count} common studio#{'s' unless @common_studio_count == 1}" if @common_studio_count > 0 %>

<%= parts.join(', ') %>
<% end %>

<% if @current_user != @showing_user && @common_studios.length > 0 %>
## Common Studios

<% @common_studios.each do |studio| %>
* [<%= raw studio.name %>](<%= studio.path %>)
<% end %>
<% if @additional_common_studio_count > 0 %>
And <%= @additional_common_studio_count %> more...
<% end %>
<% end %>
<% if @proximity_users.present? %>

## Social Proximity (<%= @proximity_users.size %>)

<% @proximity_users.each do |user| %>
* [<%= raw user.display_name %>](<%= user.path %>) (@<%= user.handle %>)
<% end %>
<% end %>

