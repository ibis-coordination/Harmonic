# typed: true

# DO NOT EDIT MANUALLY
# This is an autogenerated file for types exported from the `omniauth-identity` gem.
# Please instead update this file by running `bin/tapioca gem omniauth-identity`.


# source://omniauth-identity//lib/omniauth-identity/version.rb#3
module OmniAuth
  class << self
    # source://omniauth/2.1.1/lib/omniauth.rb#130
    def config; end

    # source://omniauth/2.1.1/lib/omniauth.rb#134
    def configure; end

    # source://omniauth/2.1.1/lib/omniauth.rb#138
    def logger; end

    # source://omniauth/2.1.1/lib/omniauth.rb#142
    def mock_auth_for(provider); end

    # source://omniauth/2.1.1/lib/omniauth.rb#20
    def strategies; end
  end
end

# source://omniauth-identity//lib/omniauth-identity/version.rb#4
module OmniAuth::Identity; end

# This module provides an includable interface for implementing the
# necessary API for OmniAuth Identity to properly locate identities
# and provide all necessary information.
#
# All methods marked as abstract must be implemented in the
# including class for things to work properly.
#
# Singleton API
#
# * locate(key)
# * create(*args) - Deprecated in v3.0.5; Will be removed in v4.0
#
# Instance API
#
# * save
# * persisted?
# * authenticate(password)
#
# source://omniauth-identity//lib/omniauth/identity/model.rb#23
module OmniAuth::Identity::Model
  include ::OmniAuth::Identity::Model::InstanceSaveApi
  include ::OmniAuth::Identity::Model::InstancePersistedApi

  mixes_in_class_methods ::OmniAuth::Identity::Model::ClassMethods
  mixes_in_class_methods ::OmniAuth::Identity::Model::ClassCreateApi

  # Used to retrieve the user-supplied authentication key (e.g. a
  # username or email). Determined using the class method of the same name,
  # defaults to `:email`.
  #
  # @return [String] An identifying string that will be entered by
  #   users upon sign in.
  #
  # source://omniauth-identity//lib/omniauth/identity/model.rb#138
  def auth_key; end

  # Used to set the user-supplied authentication key (e.g. a
  # username or email. Determined using the `.auth_key` class
  # method.
  #
  # @param value [String] The value to which the auth key should be
  #   set.
  #
  # source://omniauth-identity//lib/omniauth/identity/model.rb#152
  def auth_key=(value); end

  # Returns self if the provided password is correct, false
  # otherwise.
  #
  # @abstract
  # @param password [String] The password to check.
  # @raise [NotImplementedError]
  # @return [self or false] Self if authenticated, false if not.
  #
  # source://omniauth-identity//lib/omniauth/identity/model.rb#114
  def authenticate(_password); end

  # A hash of as much of the standard OmniAuth schema as is stored
  # in this particular model. By default, this will call instance
  # methods for each of the attributes it needs in turn, ignoring
  # any for which `#respond_to?` is `false`.
  #
  # If `first_name`, `nickname`, and/or `last_name` is provided but
  # `name` is not, it will be automatically calculated.
  #
  # @return [Hash] A string-keyed hash of user information.
  #
  # source://omniauth-identity//lib/omniauth/identity/model.rb#170
  def info; end

  # An identifying string that must be globally unique to the
  # application. Defaults to stringifying the `id` method.
  #
  # @return [String] An identifier string unique to this identity.
  #
  # source://omniauth-identity//lib/omniauth/identity/model.rb#122
  def uid; end

  class << self
    # @private
    #
    # source://omniauth-identity//lib/omniauth/identity/model.rb#26
    def included(base); end
  end
end

# source://omniauth-identity//lib/omniauth/identity/model.rb#67
module OmniAuth::Identity::Model::ClassCreateApi
  # Persists a new Identity object to the ORM.
  # Only included if the class doesn't define create, as a reminder to define create.
  # Override as needed per ORM.
  #
  # @abstract
  # @deprecated v4.0 will begin using {#new} with {#save} instead.
  # @param args [Hash] Attributes of the new instance.
  # @raise [NotImplementedError]
  # @return [Model] An instance of the identity model class.
  # @since 3.0.5
  #
  # source://omniauth-identity//lib/omniauth/identity/model.rb#77
  def create(*_args); end
end

# source://omniauth-identity//lib/omniauth/identity/model.rb#34
module OmniAuth::Identity::Model::ClassMethods
  # Used to set or retrieve the method that will be used to get
  # and set the user-supplied authentication key.
  #
  # @return [String] The method name.
  #
  # source://omniauth-identity//lib/omniauth/identity/model.rb#50
  def auth_key(method = T.unsafe(nil)); end

  # Authenticate a user with the given key and password.
  #
  # @param key [String] The unique login key provided for a given identity.
  # @param password [String] The presumed password for the identity.
  # @return [Model] An instance of the identity model class.
  #
  # source://omniauth-identity//lib/omniauth/identity/model.rb#40
  def authenticate(conditions, password); end

  # Locate an identity given its unique login key.
  #
  # @abstract
  # @param key [String] The unique login key.
  # @raise [NotImplementedError]
  # @return [Model] An instance of the identity model class.
  #
  # source://omniauth-identity//lib/omniauth/identity/model.rb#62
  def locate(_key); end
end

# source://omniauth-identity//lib/omniauth/identity/model.rb#96
module OmniAuth::Identity::Model::InstancePersistedApi
  # Checks if the Identity object is persisted in the ORM.
  # Default raises an error.  Override as needed per ORM.
  #
  # @abstract
  # @raise [NotImplementedError]
  # @return [true or false] true if object exists, false if not.
  # @since 3.0.5
  #
  # source://omniauth-identity//lib/omniauth/identity/model.rb#103
  def persisted?; end
end

# source://omniauth-identity//lib/omniauth/identity/model.rb#82
module OmniAuth::Identity::Model::InstanceSaveApi
  # Persists a new Identity object to the ORM.
  # Default raises an error.  Override as needed per ORM.
  # This base version's arguments are modeled after ActiveModel
  #   since it is a pattern many ORMs follow
  #
  # @abstract
  # @raise [NotImplementedError]
  # @return [Model] An instance of the identity model class.
  # @since 3.0.5
  #
  # source://omniauth-identity//lib/omniauth/identity/model.rb#91
  def save(**_options, &_block); end
end

# source://omniauth-identity//lib/omniauth/identity/model.rb#24
OmniAuth::Identity::Model::SCHEMA_ATTRIBUTES = T.let(T.unsafe(nil), Array)

# source://omniauth-identity//lib/omniauth/identity.rb#13
module OmniAuth::Identity::Models; end

# ActiveRecord is an ORM for MySQL, PostgreSQL, and SQLite3:
#   https://guides.rubyonrails.org/active_record_basics.html
# NOTE: ActiveRecord is based on ActiveModel.
#
# source://omniauth-identity//lib/omniauth/identity/models/active_record.rb#11
class OmniAuth::Identity::Models::ActiveRecord < ::ActiveRecord::Base
  include ::OmniAuth::Identity::Models::ActiveRecord::GeneratedAttributeMethods
  include ::OmniAuth::Identity::Models::ActiveRecord::GeneratedAssociationMethods
  include ::OmniAuth::Identity::Model
  include ::OmniAuth::Identity::SecurePassword
  extend ::OmniAuth::Identity::Model::ClassMethods

  # source://activemodel/7.0.8.7/lib/active_model/validations/confirmation.rb#22
  def password_confirmation; end

  class << self
    # source://activesupport/7.0.8.7/lib/active_support/callbacks.rb#68
    def __callbacks; end

    # source://activemodel/7.0.8.7/lib/active_model/validations.rb#52
    def _validators; end

    # source://omniauth-identity//lib/omniauth/identity/models/active_record.rb#18
    def auth_key=(key); end

    # source://activerecord/7.0.8.7/lib/active_record/enum.rb#116
    def defined_enums; end

    # source://omniauth-identity//lib/omniauth/identity/models/active_record.rb#23
    def locate(search_hash); end
  end
end

# source://omniauth-identity//lib/omniauth/identity/models/active_record.rb#0
module OmniAuth::Identity::Models::ActiveRecord::GeneratedAssociationMethods; end

# source://omniauth-identity//lib/omniauth/identity/models/active_record.rb#0
module OmniAuth::Identity::Models::ActiveRecord::GeneratedAttributeMethods; end

# This is lightly edited from Rails 6.1 code and is used if
# the version of ActiveModel that's being used does not
# include SecurePassword. The only difference is that instead of
# using ActiveSupport::Concern, it checks to see if there is already
# a has_secure_password method.
#
# source://omniauth-identity//lib/omniauth/identity/secure_password.rb#12
module OmniAuth::Identity::SecurePassword
  mixes_in_class_methods ::OmniAuth::Identity::SecurePassword::ClassMethods

  class << self
    # @private
    #
    # source://omniauth-identity//lib/omniauth/identity/secure_password.rb#13
    def included(base); end

    # source://omniauth-identity//lib/omniauth/identity/secure_password.rb#23
    def min_cost; end

    # source://omniauth-identity//lib/omniauth/identity/secure_password.rb#23
    def min_cost=(_arg0); end
  end
end

# source://omniauth-identity//lib/omniauth/identity/secure_password.rb#27
module OmniAuth::Identity::SecurePassword::ClassMethods
  # Adds methods to set and authenticate against a BCrypt password.
  # This mechanism requires you to have a +XXX_digest+ attribute.
  # Where +XXX+ is the attribute name of your desired password.
  #
  # The following validations are added automatically:
  # * Password must be present on creation
  # * Password length should be less than or equal to 72 bytes
  # * Confirmation of password (using a +XXX_confirmation+ attribute)
  #
  # If confirmation validation is not needed, simply leave out the
  # value for +XXX_confirmation+ (i.e. don't provide a form field for
  # it). When this attribute has a +nil+ value, the validation will not be
  # triggered.
  #
  # For further customizability, it is possible to suppress the default
  # validations by passing <tt>validations: false</tt> as an argument.
  #
  # Add bcrypt (~> 3.1.7) to Gemfile to use #has_secure_password:
  #
  #   gem 'bcrypt', '~> 3.1.7'
  #
  # Example using Active Record (which automatically includes ActiveModel::SecurePassword):
  #
  #   # Schema: User(name:string, password_digest:string, recovery_password_digest:string)
  #   class User < ActiveRecord::Base
  #     has_secure_password
  #     has_secure_password :recovery_password, validations: false
  #   end
  #
  #   user = User.new(name: 'david', password: '', password_confirmation: 'nomatch')
  #   user.save                                                  # => false, password required
  #   user.password = 'mUc3m00RsqyRe'
  #   user.save                                                  # => false, confirmation doesn't match
  #   user.password_confirmation = 'mUc3m00RsqyRe'
  #   user.save                                                  # => true
  #   user.recovery_password = "42password"
  #   user.recovery_password_digest                              # => "$2a$04$iOfhwahFymCs5weB3BNH/uXkTG65HR.qpW.bNhEjFP3ftli3o5DQC"
  #   user.save                                                  # => true
  #   user.authenticate('notright')                              # => false
  #   user.authenticate('mUc3m00RsqyRe')                         # => user
  #   user.authenticate_recovery_password('42password')          # => user
  #   User.find_by(name: 'david')&.authenticate('notright')      # => false
  #   User.find_by(name: 'david')&.authenticate('mUc3m00RsqyRe') # => user
  #
  # source://omniauth-identity//lib/omniauth/identity/secure_password.rb#71
  def has_secure_password(attribute = T.unsafe(nil), validations: T.unsafe(nil)); end
end

# source://omniauth-identity//lib/omniauth/identity/secure_password.rb#101
class OmniAuth::Identity::SecurePassword::InstanceMethodsOnActivation < ::Module
  # @return [InstanceMethodsOnActivation] a new instance of InstanceMethodsOnActivation
  #
  # source://omniauth-identity//lib/omniauth/identity/secure_password.rb#102
  def initialize(attribute); end
end

# BCrypt hash function can handle maximum 72 bytes, and if we pass
# password of length more than 72 bytes it ignores extra characters.
# Hence need to put a restriction on password length.
#
# source://omniauth-identity//lib/omniauth/identity/secure_password.rb#20
OmniAuth::Identity::SecurePassword::MAX_PASSWORD_LENGTH_ALLOWED = T.let(T.unsafe(nil), Integer)

# source://omniauth-identity//lib/omniauth-identity/version.rb#5
OmniAuth::Identity::VERSION = T.let(T.unsafe(nil), String)

# source://omniauth-identity//lib/omniauth/identity.rb#6
module OmniAuth::Strategies; end

# The identity strategy allows you to provide simple internal
# user authentication using the same process flow that you
# use for external OmniAuth providers.
#
# source://omniauth-identity//lib/omniauth/strategies/identity.rb#8
class OmniAuth::Strategies::Identity
  include ::OmniAuth::Strategy
  extend ::OmniAuth::Strategy::ClassMethods

  # source://omniauth-identity//lib/omniauth/strategies/identity.rb#37
  def callback_phase; end

  # source://omniauth-identity//lib/omniauth/strategies/identity.rb#106
  def identity; end

  # source://omniauth-identity//lib/omniauth/strategies/identity.rb#116
  def model; end

  # @return [Boolean]
  #
  # source://omniauth-identity//lib/omniauth/strategies/identity.rb#102
  def on_registration_path?; end

  # source://omniauth-identity//lib/omniauth/strategies/identity.rb#43
  def other_phase; end

  # source://omniauth-identity//lib/omniauth/strategies/identity.rb#64
  def registration_form(validation_message = T.unsafe(nil)); end

  # source://omniauth-identity//lib/omniauth/strategies/identity.rb#98
  def registration_path; end

  # source://omniauth-identity//lib/omniauth/strategies/identity.rb#72
  def registration_phase; end

  # source://omniauth-identity//lib/omniauth/strategies/identity.rb#29
  def request_phase; end

  private

  # source://omniauth-identity//lib/omniauth/strategies/identity.rb#122
  def build_omniauth_login_form; end

  # source://omniauth-identity//lib/omniauth/strategies/identity.rb#135
  def build_omniauth_registration_form(validation_message); end

  # source://omniauth-identity//lib/omniauth/strategies/identity.rb#162
  def registration_failure(message); end

  # source://omniauth-identity//lib/omniauth/strategies/identity.rb#170
  def registration_result; end

  # Validates the model before it is persisted
  #
  # @return [true or false] result of :on_validation call
  #
  # source://omniauth-identity//lib/omniauth/strategies/identity.rb#156
  def valid?; end

  # Validates the model before it is persisted
  #
  # @return [truthy or falsey] :on_validation option is truthy or falsey
  #
  # source://omniauth-identity//lib/omniauth/strategies/identity.rb#149
  def validating?; end
end

# source://omniauth-identity//lib/omniauth/strategies/identity.rb#9
OmniAuth::Strategies::Identity::DEFAULT_REGISTRATION_FIELDS = T.let(T.unsafe(nil), Array)
